<template name="dashboard">
	<div class="container-fluid">
      <div class="row">
        <div class="col-sm-2 sidebar sidebar-style">
        <!-- <div class="col-md-2 sidebar sidebar-style"> -->
          <div class="panel panel-primary">
            <div class="panel-heading">Graph Query</div>
            <div class="panel-body">
              <form role="form">
                <div class="form-group">
                  <label for="graph-title">*Title</label>
                  <input required type="text" class="form-control" id="graph-title" placeholder="Título del grafo de consulta" >
                </div>
                <div class="form-group">
                  <label for="graph-description">Description</label>
                  <textarea required class="form-control" rows="3" id="graph-description" placeholder="Descripción del grafo de consulta"></textarea>
                </div>
                <button type="button" class="btn btn-default btn-xs" data-toggle="tooltip" data-placement="down" title="Ejecutar" id="runQuery">
                  <span class="glyphicon glyphicon-play"></span>
                </button>
                <button type="button" class="btn btn-default btn-xs" title="Guardar" id="saveQuery">
                  <span class="glyphicon glyphicon-floppy-disk"></span>
                </button>
              </form>
            </div>
          </div>
          
        </div>

        {{> drawingboard}}


      <!-- Right sidebar -->
      <div class="col-xs-4 col-xs-offset-8 col-sm-3 col-sm-offset-9 sidebar-style">
      <!-- <div class="col-md-3 sidebar-style"> -->
        <!--
        <ul class="nav nav-sidebar">
          <li class="active"><a href="./dashboard_files/dashboard.html">Overview</a></li>
          <li><a href="./dashboard_files/dashboard.html">Reports</a></li>
          <li><a href="./dashboard_files/dashboard.html">Analytics</a></li>
          <li><a href="./dashboard_files/dashboard.html">Export</a></li>
        </ul>
        -->
        {{> endpoint}}
        </div>
      </div>

      <div class="footer">
        <div class="row">
          <div class="col-xs-2">
          </div>
          <div class="col-xs-10">
            <div style="position:absolute; right:0; padding: 0 25px;">
              <small class="footer-legend"><strong>Desarrollado por:</strong></small>
              <img src="images/ucuenca-logo.png" alt="ucuenca" style="height:40px">
              <small class="footer-legend"><strong>Con el apoyo de:</strong></small>
              <img src="images/cepra-logo.png" alt="ucuenca" style="height:30px">
            </div>
          </div>
          <!--
          <div class="col-xs-3">
              
          </div>-->
          
        </div>
      </div>
      <div class='notifications top-right' style="width: 250px;"></div>
      <div class='notifications top-left' style="width: 250px;"></div>

      <div style="display:none; "  id="contextMenu">
        <ul border="0" cellpadding="0" cellspacing="0" 
          style="border: 1px solid rgba(0, 0, 0, 0.2); border-radius: 6px; background-clip: padding-box; 
          box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2);  min-width: 160px; position: absolute; background-color: #ffffff;" 
          width="100px" >
          <li style="  clear: both; color: #333333; display: block; font-weight: normal; line-height: 20px;
                padding: 3px; white-space: nowrap;">
            <div  id="changeResultSet" class="ContextItem" ><span class="glyphicon glyphicon-transfer"></span> ResultSet</div>
          </li>
        </ul>     
      </div>

  </div>

      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal for New endpoint -->
      <div class="modal fade" id="newEndpoint" tabindex="-1" role="dialog" aria-labelledby="New Endpoint Register" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">New Endpoint</h4>
            </div>
            
              <div class="modal-body">
                <form role="form" id="new-endpoint-form">
                  <div class="form-group">
                  	<div class="input-group input-group-sm">
      					     <span class="input-group-addon">*@</span>
      					     <input type="text" required class="form-control" placeholder="Identifier" id="new-endpoint-identifier">
      				      </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group input-group-sm">
                     <span class="input-group-addon">*http://</span>
                     <input type="url" required class="form-control" placeholder="Endpoint URL" id="new-endpoint">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group input-group-sm">
                      <span class="input-group-addon">*http://</span>
                      <input type="url" required class="form-control" placeholder="Graph URL" id="new-endpoint-graph">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group input-group-sm">
                      <span class="input-group-addon">Color:</span>
                      <input type="color" id="new-endpoint-color" value="#ff0000" class="form-control" placeholder="Graph Color">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="sr-only" for="new-endpoint-desc">Description</label>
                    <textarea class="form-control" rows="3" id="new-endpoint-desc" placeholder="Description"></textarea>
                    <!--
                    <div class="input-group input-group-sm">
                      <span class="input-group-addon">-></span>
                      <input type="text" class="form-control" placeholder="Description" id="new-endpoint-desc">
                    </div>

                    -->
                  </div>
                  <button type="submit" class="btn btn-primary">Register</button>
                </form>
              </div>
            
            <div class="modal-footer">
              <div role="alert" class="alert alert-warning">Something happend</div>
             <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
              <!-- <button type="button" class="btn btn-primary new-endpoint-btn" id="new-endpoint-btn">Register</button> -->
            </div>
          </div>
        </div>
      </div>

      <!-- Modal for Node Value -->
      <div class="modal fade" id="nodeValue" tabindex="-1" role="dialog" aria-labelledby="Node Value" aria-hidden="true">
        <div class="modal-dialog modal-sm">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Node Value</h4>
            </div>
            
              <div class="modal-body">
                  <div class="form-group">
                    <div class="input-group input-group-sm">
                     <span class="input-group-addon">@</span>
                     <input type="text" class="form-control" placeholder="Value" id="node-value">
                    </div>
                    <div class="checkbox">
                      <label><input id="checkRegex" type="checkbox" value="">Regex</label>
                    </div>
                  </div>
                  <!-- <button class="btn btn-primary" data-dismiss="modal">Register</button> -->
              </div>
            
            <div class="modal-footer">
              <!-- <div role="alert" class="alert alert-warning">Something happend</div> -->
             <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
            <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Save</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="sparqlEditor" tabindex="-1" role="dialog" aria-labelledby="Node Value" aria-hidden="true">
      
      <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Editor de Consultas SPARQL</h3>
        </div>
        <div class="modal-body">
          <div class="form-group">
          <label for="graph-title">Ingrese la consulta que desea ejecutar</label>
          <form id="sparqlEditor-form">
            <textarea id="code" style="background= #646464">
              PREFIX a: <http://www.w3.org/2000/10/annotation-ns#>
              PREFIX dc: <http://purl.org/dc/elements/1.1/>
              PREFIX foaf: <http://xmlns.com/foaf/0.1/>

              # Comment!

              select ?name ?titleTesis ?title
              from <http://dspace.ucuenca.edu.ec/resource/>
              where 
               {?person foaf:lastName "Ortiz Segarra "^^<http://www.w3.org/2001/XMLSchema#string> .
                ?tesis <http://id.loc.gov/vocabulary/relators/ths> ?person . 
                ?tesis <http://purl.org/dc/terms/title> ?titleTesis
                SERVICE <http://190.15.141.66:8890/sparql/>{
                  select ?name ?title from <http://localhost:8890/DAV>{
                  ?name foaf:lastName "Ortiz Segarra "^^<http://www.w3.org/2001/XMLSchema#string> .
                  ?recurso <http://id.loc.gov/vocabulary/relators/aut> ?name . 
                ?recurso <http://purl.org/dc/terms/title> ?title
                }
                }  
              }
            </textarea>
          </form>
        </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Ejecutar</button>
        </div>
    </div>
  </div>
  </div>

  <div class="modal fade" id="availableEndpoint" tabindex="-1" role="dialog" aria-labelledby="Available Endpoint" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Available Endpoint</h4>
            </div>
            
              <div class="modal-body">
                <table class="table table-striped ">
                  <thead>
                      <tr>
                          <th>Name</th>
                          <th>Description</th>
                          <th>Color</th>
                      </tr>
                  </thead>
                  <tbody>
                    {{#each endpointsAvailable}}
                      <tr>
                          <td>{{name}}</td>
                          <td>{{description}}</td>
                          <td><input type="color" value="{{colorid}}" disabled ></td>
                      </tr>
                      {{/each}}
                  </tbody>
                </table>
              </div>
            
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
</template>